<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cryptovision-RDC</title>

<style>
body{font-family:Arial;background:#0d0d1a;color:white;text-align:center;padding:20px}
input{padding:10px;margin:5px;border:none;border-radius:5px}
button{padding:10px 20px;background:#6b00ff;color:white;border:none;border-radius:5px;cursor:pointer}
button:hover{background:#4500b3}
.card{background:#111133;padding:20px;border-radius:10px;margin:20px auto;width:300px}
.hidden{display:none}
.admin{background:#220022;padding:20px;margin-top:40px}
</style>
</head>

<body>

<h1>Cryptovision-RDC Premium</h1>
<p>Prix : 5$ ou 15000 FC</p>

<div class="card">
<h3>Paiement Vodacom M-Pesa</h3>

<input type="text" id="nom" placeholder="Nom complet">
<input type="email" id="email" placeholder="Email">

<br>
<button onclick="payer()">Confirmer via WhatsApp</button>
</div>

<div class="card">
<h3>Connexion Membre</h3>
<input type="email" id="loginEmail" placeholder="Votre email">
<br>
<button onclick="connexion()">Se connecter</button>
<p id="loginMessage"></p>
</div>

<div id="premiumContent" class="hidden">
<h2>Bienvenue Premium üîê</h2>
<a href="formation-premium.pdf" download>
<button>T√©l√©charger la formation</button>
</a>
</div>

<hr>

<div class="admin">
<h2>üîí Espace Admin</h2>
<input type="password" id="adminPass" placeholder="Mot de passe admin">
<button onclick="ouvrirAdmin()">Ouvrir</button>

<div id="adminPanel" class="hidden">
<h3>Utilisateurs en attente :</h3>
<div id="listeUsers"></div>
</div>
</div>

<script>

function payer(){
let nom=document.getElementById("nom").value;
let email=document.getElementById("email").value;

if(nom===""||email===""){
alert("Remplissez les champs");
return;
}

let users=JSON.parse(localStorage.getItem("users"))||[];

users.push({nom:nom,email:email,actif:false});

localStorage.setItem("users",JSON.stringify(users));

let message="Bonjour Cryptovision-RDC,%0AJe viens de payer via Vodacom M-Pesa.%0ANom:"+nom+"%0AEmail:"+email;
window.open("https://wa.me/243972840969?text="+message,'_blank');

alert("Votre demande est enregistr√©e. Attendez activation.");
}

function connexion(){
let email=document.getElementById("loginEmail").value;
let users=JSON.parse(localStorage.getItem("users"))||[];

let user=users.find(u=>u.email===email);

if(!user){
document.getElementById("loginMessage").innerText="Utilisateur non trouv√©.";
return;
}

if(user.actif){
document.getElementById("premiumContent").classList.remove("hidden");
document.getElementById("loginMessage").innerText="Acc√®s autoris√©.";
}else{
document.getElementById("loginMessage").innerText="En attente de validation.";
}
}

function ouvrirAdmin(){
let pass=document.getElementById("adminPass").value;

if(pass==="ADMIN2026"){
document.getElementById("adminPanel").classList.remove("hidden");
afficherUsers();
}else{
alert("Mot de passe incorrect");
}
}

function afficherUsers(){
let users=JSON.parse(localStorage.getItem("users"))||[];
let liste=document.getElementById("listeUsers");
liste.innerHTML="";

users.forEach((u,index)=>{
if(!u.actif){
liste.innerHTML+=`
<p>${u.nom} - ${u.email}
<button onclick="valider(${index})">Valider</button>
</p>
`;
}
});
}

function valider(index){
let users=JSON.parse(localStorage.getItem("users"))||[];
users[index].actif=true;
localStorage.setItem("users",JSON.stringify(users));
afficherUsers();
alert("Utilisateur activ√© !");
}

</script>

</body>
</html>
